{% extends 'board/base.html' %}

{% block content %}
<div style="font-family: 'Inter', sans-serif;">

  <!-- Hero Section -->
  <div
    style="background: linear-gradient(135deg, #A8D0E6, #74A9D8); color:#1E3A8A; padding:100px 20px; text-align:center; border-radius:0 0 50px 50px;">
    <h1 style="font-size:3.5rem; font-weight:800; margin-bottom:20px;">Welcome to ThoughtBoard</h1>
    <p style="font-size:1.3rem; max-width:700px; margin:0 auto 40px auto;">Share your ideas, explore recent posts, and
      connect with a vibrant community of thinkers.</p>

    <form method="get"
      style="display:flex; justify-content:center; flex-wrap:wrap; gap:10px; max-width:600px; margin:0 auto;">
      <input name="query" value="{{ query }}" placeholder="Search posts..."
        style="flex:1; min-width:200px; padding:14px 20px; border-radius:12px; border:none; outline:none; font-size:1rem; box-shadow:0 2px 6px rgba(0,0,0,0.05);" />
      <button type="submit"
        style="padding:14px 30px; font-size:1rem; font-weight:600; border:none; border-radius:12px; background-color:#5DADE2; color:white; cursor:pointer; transition:0.3s;"
        onmouseover="this.style.backgroundColor='#3498DB';" onmouseout="this.style.backgroundColor='#5DADE2';">
        Search
      </button>
    </form>
  </div>

  <!-- Recent Posts Section -->
  <div style="max-width:1000px; margin:80px auto; padding:0 20px;">
    <h2 style="font-size:2.5rem; font-weight:700; color:#1E3A8A; text-align:center; margin-bottom:50px;">Recent Posts
    </h2>
    <div style="display:grid; grid-template-columns:repeat(auto-fit, minmax(280px, 1fr)); gap:30px;">
      {% for post in posts %}
      <div
        style="background:#D6EAF8; border-radius:20px; padding:25px; box-shadow:0 10px 25px rgba(0,0,0,0.05); transition:0.3s; cursor:pointer;"
        onmouseover="this.style.transform='translateY(-6px)'; this.style.boxShadow='0 15px 35px rgba(0,0,0,0.08)';"
        onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='0 10px 25px rgba(0,0,0,0.05)';">
        <!-- XSS 취약점: autoescape off로 사용자 입력을 그대로 렌더링 -->
        <h3 style="font-size:1.4rem; color:#3498DB; margin-bottom:10px;">{{ post.title|safe }}</h3>
        <div style="font-size:0.95rem; color:#1E3A8A; margin:10px 0;">{{ post.body|safe }}</div>
        <p style="font-size:0.9rem; color:#6B7280;">{{ post.created_at }}</p>
      </div>
      {% empty %}
      <div
        style="grid-column:1/-1; text-align:center; color:#6B7280; padding:40px; font-size:1rem; border:1px dashed #AED6F1; border-radius:16px;">
        No posts available.
      </div>
      {% endfor %}
    </div>

    <!-- Write Post Button -->
    <div style="text-align:center; margin-top:80px;">
      <a href="{% url 'create_post' %}"
        style="display:inline-block; padding:18px 50px; font-size:1.3rem; font-weight:700; background:linear-gradient(90deg,#85C1E9,#5DADE2); color:white; border-radius:14px; text-decoration:none; box-shadow:0 10px 25px rgba(93,173,226,0.3); transition:0.3s;"
        onmouseover="this.style.transform='translateY(-5px)'; this.style.boxShadow='0 15px 35px rgba(93,173,226,0.4)';"
        onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='0 10px 25px rgba(93,173,226,0.3)';">
        ✏️ Write a Post
      </a>
    </div>
  </div>

</div>
{% endblock %}